<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TÃ i khoáº£n - TechStore</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .login-register-wrapper {
      max-width: 500px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    .tabs {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
      border-bottom: 2px solid #eee;
    }

    .tab-button {
      background: none;
      border: none;
      padding: 10px 0;
      margin-bottom: -2px;
      font-size: 16px;
      font-weight: bold;
      color: #999;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s;
    }

    .tab-button.active {
      color: #667eea;
      border-bottom-color: #667eea;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .account-info {
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <a href="index.html" class="logo">ğŸ›ï¸ TechStore</a>
      <nav>
        <a href="index.html">Trang chá»§</a>
        <a href="products.html">Sáº£n pháº©m</a>
        <a href="about.html">Vá» chÃºng tÃ´i</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">LiÃªn há»‡</a>
        <button id="account-btn" class="cart-btn" style="display: none;" onclick="logout()">
          ğŸ‘¤ TÃ i khoáº£n â–¼
        </button>
        <button id="login-btn" class="cart-btn" onclick="switchTab('login')">
          ğŸ‘¤ ÄÄƒng nháº­p
        </button>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container">
    <h2 class="section-title">ğŸ‘¤ TÃ i khoáº£n cá»§a tÃ´i</h2>

    <!-- Logged In User -->
    <div id="logged-in-view" style="display: none;">
      <div class="account-container">
        <div class="profile-card">
          <div class="avatar" id="user-avatar">ğŸ‘¤</div>
          <div class="profile-name" id="user-name">Xin chÃ o!</div>
          <div class="profile-email" id="user-email"></div>
        </div>

        <div class="account-section">
          <h3>ğŸ“‹ ThÃ´ng tin cÃ¡ nhÃ¢n</h3>
          <div class="account-info">
            <div class="info-row">
              <span class="info-label">Há» tÃªn:</span>
              <span class="info-value" id="info-name">â€”</span>
            </div>
            <div class="info-row">
              <span class="info-label">Email:</span>
              <span class="info-value" id="info-email">â€”</span>
            </div>
            <div class="info-row">
              <span class="info-label">Sá»‘ Ä‘iá»‡n thoáº¡i:</span>
              <span class="info-value" id="info-phone">â€”</span>
            </div>
            <div class="info-row">
              <span class="info-label">Äá»‹a chá»‰:</span>
              <span class="info-value" id="info-address">â€”</span>
            </div>
          </div>
        </div>

        <div class="account-section">
          <h3>ğŸ“¦ ÄÆ¡n hÃ ng gáº§n Ä‘Ã¢y</h3>
          <div class="account-info">
            <div class="info-row">
              <span class="info-label">Tá»•ng Ä‘Æ¡n hÃ ng:</span>
              <span class="info-value">5</span>
            </div>
            <div class="info-row">
              <span class="info-label">ÄÆ¡n hÃ ng chÆ°a hoÃ n thÃ nh:</span>
              <span class="info-value">1</span>
            </div>
            <div class="info-row">
              <span class="info-label">ÄÆ¡n hÃ ng Ä‘Ã£ giao:</span>
              <span class="info-value">4</span>
            </div>
          </div>
        </div>

        <div class="checkout-actions" style="margin-top: 20px;">
          <button class="checkout-btn" onclick="logout()">ÄÄƒng xuáº¥t</button>
          <a href="products.html" class="back-btn">â† Tiáº¿p tá»¥c mua sáº¯m</a>
        </div>
      </div>
    </div>

    <!-- Login/Register Form -->
    <div id="login-register-view">
      <div class="login-register-wrapper">
        <div class="tabs">
          <button class="tab-button active" onclick="switchTab('login')">ÄÄƒng nháº­p</button>
          <button class="tab-button" onclick="switchTab('register')">ÄÄƒng kÃ½</button>
        </div>

        <!-- Login Form -->
        <div id="login-tab" class="tab-content active">
          <form onsubmit="handleLoginForm(event)">
            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" name="email" required>
            </div>

            <div class="form-group">
              <label for="password">Máº­t kháº©u *</label>
              <input type="password" id="password" name="password" required>
            </div>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
              <label style="display: flex; align-items: center; color: #333;">
                <input type="checkbox" style="margin-right: 5px;"> Nhá»› tÃ´i
              </label>
              <a href="#" style="color: #667eea; text-decoration: none; font-size: 14px;">QuÃªn máº­t kháº©u?</a>
            </div>

            <button type="submit" class="submit-btn">ÄÄƒng nháº­p</button>
          </form>
        </div>

        <!-- Register Form -->
        <div id="register-tab" class="tab-content">
          <form onsubmit="handleLoginForm(event)">
            <div class="form-group">
              <label for="full-name">Há» tÃªn *</label>
              <input type="text" id="full-name" name="full-name" required>
            </div>

            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" name="email" required>
            </div>

            <div class="form-group">
              <label for="phone">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
              <input type="tel" id="phone" name="phone">
            </div>

            <div class="form-group">
              <label for="address">Äá»‹a chá»‰</label>
              <input type="text" id="address" name="address">
            </div>

            <div class="form-group">
              <label for="register-password">Máº­t kháº©u *</label>
              <input type="password" id="register-password" name="register-password" required>
            </div>

            <div class="form-group">
              <label for="confirm-password">XÃ¡c nháº­n máº­t kháº©u *</label>
              <input type="password" id="confirm-password" name="confirm-password" required>
            </div>

            <label style="display: flex; align-items: center; color: #333; margin-bottom: 20px;">
              <input type="checkbox" style="margin-right: 5px;" required> 
              TÃ´i Ä‘á»“ng Ã½ vá»›i <a href="#" style="color: #667eea; text-decoration: none;">Äiá»u khoáº£n sá»­ dá»¥ng</a>
            </label>

            <button type="submit" class="submit-btn">ÄÄƒng kÃ½</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-links">
        <a href="index.html">Trang chá»§</a>
        <a href="products.html">Sáº£n pháº©m</a>
        <a href="about.html">Vá» chÃºng tÃ´i</a>
        <a href="contact.html">LiÃªn há»‡</a>
      </div>
      <div class="footer-social">
        <a href="#" class="social-link">f</a>
        <a href="#" class="social-link">ğ•</a>
        <a href="#" class="social-link">ğŸ“·</a>
      </div>
      <p>&copy; 2025 TechStore. Táº¥t cáº£ quyá»n Ä‘Æ°á»£c báº£o lÆ°u.</p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    function switchTab(tab) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.tab-button').forEach(el => el.classList.remove('active'));

      // Show selected tab
      if (tab === 'login') {
        document.getElementById('login-tab').classList.add('active');
        document.querySelectorAll('.tab-button')[0].classList.add('active');
      } else if (tab === 'register') {
        document.getElementById('register-tab').classList.add('active');
        document.querySelectorAll('.tab-button')[1].classList.add('active');
      }
    }

    function updateAccountDisplay() {
      const user = getCurrentUser();
      const loggedInView = document.getElementById('logged-in-view');
      const loginRegisterView = document.getElementById('login-register-view');

      if (user) {
        loggedInView.style.display = 'block';
        loginRegisterView.style.display = 'none';

        document.getElementById('user-avatar').textContent = user.name.charAt(0).toUpperCase();
        document.getElementById('user-name').textContent = `Xin chÃ o, ${user.name}!`;
        document.getElementById('user-email').textContent = user.email;
        document.getElementById('info-name').textContent = user.name;
        document.getElementById('info-email').textContent = user.email;
        document.getElementById('info-phone').textContent = user.phone || 'â€”';
        document.getElementById('info-address').textContent = user.address || 'â€”';
      } else {
        loggedInView.style.display = 'none';
        loginRegisterView.style.display = 'block';
      }
    }

    document.addEventListener('DOMContentLoaded', updateAccountDisplay);

    // Override handleLoginForm to update display
    const originalHandleLoginForm = handleLoginForm;
    handleLoginForm = function(e) {
      originalHandleLoginForm(e);
      setTimeout(updateAccountDisplay, 100);
    };
  </script>
</body>
</html>
